<html>
<head>
<title>Adder: To-Do List</title>
</head>

<body>
<h1>Adder: To-Do List</h1>

<dl>
<dt>Importing a module may not recompile it.</dt>

<dt>Compiler performance is poor.</dt>
<dd>This is what discouraged me into dropping Adder for several
  months.  The performance is OK for ordinary code, but anything
  macro-heavy takes forever, since the compiler has to get invoked
  over and over.  One solution is to cache the generated Python, the
  way CPython caches .pyc files.  The generated file would have to
  export metadata for the compiler to use.
</dd>

<dt>Can't import macros.</dt>
<dd>We can import Adder into Adder, but the compiler doesn't know
anything about macros in the imported module.
</dd>

<dt>Logic programming</dt>
<dd>It would be very cool to give Adder a logic
  programming system.  Initially a simple one, as described in the
  early chapters of <i>The Art of Prolog,</i> but it'd be nice to
  extend it to use a SQL backend.  The system should include the
  ability to trigger arbitrary Adder code.
</dd>

<dt>Return and yield in helper functions. Probably solved.</dt>
<dd>There are a few places where we use a helper function to solve the
  statement problem.  E.g., <code>(:=)</code> and
  <code>(if)</code>.  We need to worry about return
  and yield&mdash;can't translate them directly, or we'll be returning
  from the helper.
Currently working on this; tackling it by replacing with (return-from)
  and (yield-from).  Problem: these work fine for (defun); for
  (lambda), there's no name.  Add a :block arg to (lambda).  Also to
  (begin).
</dd>
<dt>Refactor <code>adder.pyle.build</code> and
  <code>adder.util.build</code></dt>
<dd>Too many special cases; need to move that knowledge into the
  function classes.  Ideally, this would make it easier for the
  function classes to do rewriting&mdash;it's absurd that they have to
  call each other instead of calling <code>build</code> with the lists
  they want.
</dd>
<dt>Make <code>(-gomer-try)</code> work as an expr.</dt>
<dd>Depends on solving the statement problem, above.  Probably solved.
</dd>
<dt>Error reporting</dt>
<dd>Lots and lots of places where constraints are asserted.  Should
  all be replaced with proper error reporting.
</dd>
</dl>

</body>
</html>
